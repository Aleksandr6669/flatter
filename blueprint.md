# Blueprint Проекта: Голосовой ассистент и Управление Жестами

## 1. Обзор проекта

Это приложение представляет собой кастомную домашнюю страницу, сочетающую в себе голосового ассистента и инновационную систему управления курсором с помощью жестов. Оно построено как одноэкранное приложение (Single-Page Application), где основной интерфейс включает в себя часы, дату и иконки для запуска веб-приложений в оверлейном `WebView`. Ключевые особенности — постоянно доступный голосовой ассистент и возможность управлять веб-контентом с помощью камеры.

## 2. Архитектура и дизайн

### 2.1. Единый экран и State Management

Приложение использует единый экран `WeatherClockScreen` для управления всеми элементами интерфейса. Это стало возможным благодаря внедрению `provider` для управления состоянием.

- **`WebViewProvider`**: Центральный элемент, управляющий видимостью `WebView`, текущим URL и контроллером `WebViewController`.

### 2.2. Слои интерфейса

Главный экран построен с использованием `Stack`:
1.  **Фон**
2.  **Основной контент** (часы, иконки)
3.  **Слой `WebView`**
4.  **Слой ассистента**

## 3. Управление курсором с помощью жестов

### 3.1. Введение

Реализована функция управления курсором на веб-сайтах с помощью жестов рук, что позволяет взаимодействовать с контентом без мыши или сенсорного экрана.

### 3.2. Техническая реализация

- **`WebView`**: Для отображения веб-сайтов используется `WebView`.
- **Отслеживание рук**: С помощью камеры и `google_mlkit_pose_detection` приложение отслеживает положение указательного пальца.
- **Виртуальный курсор**: Поверх `WebView` наложен кастомный виджет-курсор, чье положение синхронизировано с положением указательного пальца.
- **Жест "клика"**: Сведение большого и указательного пальцев распознается как клик. Приложение вычисляет расстояние между соответствующими точками скелета и, если оно меньше порогового значения, выполняет JavaScript-код в `WebView` для имитации клика в текущей позиции курсора.

### 3.3. Пользовательский опыт

- Пользователь может управлять курсором на сайте `https://mediaflet.pp.ua/` (или любом другом) с помощью движений руки.
- "Клик" по элементам на странице осуществляется с помощью простого и интуитивного жеста.

## 4. План на будущее

- **Реализовать функцию погоды**: Добавить реальное получение и отображение погоды.
- **Расширить команды ассистента**: Добавить больше команд для управления устройством, поиска информации и т.д.
- **Сохранять историю диалога**: Реализовать сохранение истории переписки с ассистентом.

