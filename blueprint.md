# Blueprint: WebView-приложение с управлением жестами

## Обзор

Это Flutter-приложение представляет собой оболочку (WebView) для просмотра веб-страниц, в которую динамически внедряется скрипт для управления с помощью жестов рук. Приложение может отображать любой веб-сайт, при этом функционал управления жестами будет добавлен на каждую загружаемую страницу.

## Реализованные функции

- **Основной функционал WebView**: Приложение отображает веб-страницы. Стартовая страница — `https://mediaflet.pp.ua/`.
- **Динамическое внедрение скрипта**: Приложение загружает скрипт управления жестами с фиксированного URL (`https://mediaflet.pp.ua/hand-tracking.js`) и внедряет его в каждую страницу, которая загружается в `WebView`. Это обеспечивает работу управления жестами на любом сайте.
- **Проверка подключения к сети**: Приложение проверяет наличие интернет-соединения. Если его нет, отображается соответствующее уведомление.
- **Обработка разрешений**: Приложение запрашивает у пользователя разрешения на доступ к камере и микрофону во время запуска. Это необходимо для работы скрипта управления жестами.
- **Интеграция с платформой**: Настроен `AndroidWebViewController` для автоматической обработки и предоставления разрешений на доступ к камере и микрофону, запрашиваемых веб-страницей.
- **Пользовательский интерфейс**: 
    - Во время загрузки страницы отображается индикатор загрузки.
    - Если пользователь не предоставил необходимые разрешения, выводится сообщение об ошибке.
- **Навигация**: Обработка нажатия системной кнопки "Назад" позволяет перемещаться по истории просмотров в `WebView`.

## План

**Текущая задача (Выполнено):**

- **Проблема**: Необходимо обеспечить работу скрипта управления жестами на любой странице, открытой в `WebView`.
- **Решение**: 
  1.  Добавлен пакет `http` для выполнения сетевых запросов.
  2.  При запуске приложения скрипт `hand-tracking.js` загружается с постоянного URL (`https://mediaflet.pp.ua/hand-tracking.js`).
  3.  После загрузки любой страницы в `WebView` (событие `onPageFinished`), содержимое загруженного скрипта выполняется в контексте этой страницы с помощью `runJavaScript()`.
